---
phase: 22-code-quality
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - maguey-gate-scanner/src/components/scanner/ManualEntry.tsx
  - maguey-gate-scanner/src/components/scanner/ScannerInput.tsx
  - maguey-gate-scanner/src/components/scanner/BatchQueue.tsx
  - maguey-gate-scanner/src/components/scanner/QrScanner.tsx
  - maguey-gate-scanner/src/components/scanner/NFCScanner.tsx
  - maguey-gate-scanner/src/components/scanner/ScanErrorDisplay.tsx
  - maguey-gate-scanner/src/components/scanner/TicketResult.tsx
  - maguey-gate-scanner/src/components/scanner/RiskIndicatorBadge.tsx
  - maguey-gate-scanner/src/components/scanner/IDVerificationModal.tsx
  - maguey-gate-scanner/src/components/scanner/LowBatteryModal.tsx
  - maguey-gate-scanner/src/components/scanner/OverrideActivationModal.tsx
  - maguey-gate-scanner/src/components/scanner/OverrideReasonModal.tsx
  - maguey-gate-scanner/src/components/scanner/PhotoCaptureModal.tsx
  - maguey-gate-scanner/src/components/scanner/PhotoComparison.tsx
  - maguey-gate-scanner/src/components/scanner/PhotoGallery.tsx
  - maguey-gate-scanner/src/components/scanner/index.ts
  - maguey-gate-scanner/src/components/dashboard/ActivityFeed.tsx
  - maguey-gate-scanner/src/components/dashboard/DiscrepancyAlerts.tsx
  - maguey-gate-scanner/src/components/dashboard/EntryExitFlowVisualization.tsx
  - maguey-gate-scanner/src/components/dashboard/FraudAlertsWidget.tsx
  - maguey-gate-scanner/src/components/dashboard/FraudAnalysisModal.tsx
  - maguey-gate-scanner/src/components/dashboard/NotificationFeed.tsx
  - maguey-gate-scanner/src/components/dashboard/QueueDashboard.tsx
  - maguey-gate-scanner/src/components/dashboard/QueueAnalytics.tsx
  - maguey-gate-scanner/src/components/dashboard/RecentGuestCheckIns.tsx
  - maguey-gate-scanner/src/components/dashboard/ShiftStatus.tsx
  - maguey-gate-scanner/src/components/dashboard/StaffingRecommendations.tsx
  - maguey-gate-scanner/src/components/dashboard/SyncDetailsPanel.tsx
  - maguey-gate-scanner/src/components/dashboard/SyncStatusIndicator.tsx
  - maguey-gate-scanner/src/components/dashboard/UnifiedCapacityDisplay.tsx
  - maguey-gate-scanner/src/components/dashboard/WaitTimeDisplay.tsx
  - maguey-gate-scanner/src/components/dashboard/index.ts
  - maguey-gate-scanner/src/components/vip/GuestCheckInCard.tsx
  - maguey-gate-scanner/src/components/vip/GuestSearchInput.tsx
  - maguey-gate-scanner/src/components/vip/GuestSearchResults.tsx
  - maguey-gate-scanner/src/components/vip/VipTableGuestResult.tsx
  - maguey-gate-scanner/src/components/vip/TierManagement.tsx
  - maguey-gate-scanner/src/components/vip/index.ts
  - maguey-gate-scanner/src/components/layout/ProtectedRoute.tsx
  - maguey-gate-scanner/src/components/layout/Navigation.tsx
  - maguey-gate-scanner/src/components/layout/RoleSwitcher.tsx
  - maguey-gate-scanner/src/components/layout/index.ts
  - maguey-gate-scanner/src/components/shared/ErrorBoundary.tsx
  - maguey-gate-scanner/src/components/shared/ScrollToTop.tsx
  - maguey-gate-scanner/src/components/shared/index.ts
  - maguey-gate-scanner/src/components/settings/ColorPicker.tsx
  - maguey-gate-scanner/src/components/settings/FontSelector.tsx
  - maguey-gate-scanner/src/components/settings/DeviceInfoCard.tsx
  - maguey-gate-scanner/src/components/settings/index.ts
  - maguey-gate-scanner/src/components/events/EventBulkImport.tsx
  - maguey-gate-scanner/src/components/events/AssetUpload.tsx
  - maguey-gate-scanner/src/components/events/index.ts
  - maguey-gate-scanner/src/components/admin/UserDetailsModal.tsx
  - maguey-gate-scanner/src/pages/Scanner.tsx
  - maguey-gate-scanner/src/pages/Dashboard.tsx
  - maguey-gate-scanner/src/pages/FraudInvestigation.tsx
  - maguey-gate-scanner/src/pages/QueueManagement.tsx
  - maguey-gate-scanner/src/pages/QueueStatus.tsx
  - maguey-gate-scanner/src/pages/Branding.tsx
  - maguey-gate-scanner/src/pages/TeamManagement.tsx
  - maguey-gate-scanner/src/pages/NotificationAnalytics.tsx
  - maguey-gate-scanner/src/pages/GuestListCheckIn.tsx
  - maguey-gate-scanner/src/pages/CustomerManagement.tsx
  - maguey-gate-scanner/src/pages/EventManagement.tsx
  - maguey-gate-scanner/src/pages/crew/CrewSettings.tsx
  - maguey-gate-scanner/src/pages/crew/CrewDeviceCenter.tsx
  - maguey-gate-scanner/src/pages/crew/CrewQueueOps.tsx
  - maguey-gate-scanner/src/pages/crew/CrewShiftCenter.tsx
  - maguey-gate-scanner/src/App.tsx
  - maguey-gate-scanner/src/components/scanner/ScannerSettingsPanel.tsx
  - maguey-gate-scanner/src/components/scanner/FullScreenScanner.tsx
  - maguey-gate-scanner/src/components/vip/VIPScanner.tsx
  - maguey-gate-scanner/src/components/layout/OwnerPortalLayout.tsx
  - maguey-gate-scanner/src/components/layout/EmployeePortalLayout.tsx
  - maguey-gate-scanner/src/components/Navigation.tsx
autonomous: true

must_haves:
  truths:
    - "All 47 top-level component files moved into domain subdirectories"
    - "All import paths updated across all consumer files"
    - "Barrel index.ts files provide backward-compatible re-exports"
    - "TypeScript build succeeds with zero errors"
    - "Zero top-level .tsx files remain in components/ (only subdirectories)"
  artifacts:
    - path: "maguey-gate-scanner/src/components/scanner/index.ts"
      provides: "Re-exports all scanner components (existing + 15 moved)"
      contains: "export.*from"
    - path: "maguey-gate-scanner/src/components/dashboard/index.ts"
      provides: "Re-exports all 12 dashboard components"
      contains: "export.*from"
    - path: "maguey-gate-scanner/src/components/layout/index.ts"
      provides: "Re-exports Navigation, ProtectedRoute, RoleSwitcher, OwnerPortalLayout, EmployeePortalLayout"
      contains: "export.*from"
    - path: "maguey-gate-scanner/src/components/vip/index.ts"
      provides: "Re-exports all VIP components (existing + 5 moved)"
      contains: "export.*from"
    - path: "maguey-gate-scanner/src/components/shared/index.ts"
      provides: "Re-exports ErrorBoundary, ScrollToTop"
      contains: "export.*from"
    - path: "maguey-gate-scanner/src/components/settings/index.ts"
      provides: "Re-exports ColorPicker, FontSelector, DeviceInfoCard"
      contains: "export.*from"
    - path: "maguey-gate-scanner/src/components/events/index.ts"
      provides: "Re-exports EventBulkImport, AssetUpload"
      contains: "export.*from"
  key_links:
    - from: "maguey-gate-scanner/src/pages/Scanner.tsx"
      to: "maguey-gate-scanner/src/components/scanner/"
      via: "import from @/components/scanner/"
      pattern: "from.*@/components/scanner"
    - from: "maguey-gate-scanner/src/pages/Dashboard.tsx"
      to: "maguey-gate-scanner/src/components/dashboard/"
      via: "import from @/components/dashboard/"
      pattern: "from.*@/components/dashboard"
    - from: "maguey-gate-scanner/src/App.tsx"
      to: "maguey-gate-scanner/src/components/layout/"
      via: "import from @/components/layout/"
      pattern: "from.*@/components/layout"
---

<objective>
Move 47 top-level component files from `maguey-gate-scanner/src/components/` into domain subdirectories (scanner, dashboard, vip, layout, shared, settings, events, admin) and update all import paths.

Purpose: The flat directory has 47 .tsx files at the top level alongside 6 subdirectories (already containing 87 files). Organizing by domain makes it possible to find components by their purpose rather than scrolling through an alphabetical list.

Output: Zero top-level .tsx files. All organized into 8 domain subdirectories with barrel index.ts files.
</objective>

<execution_context>
@/Users/luismiguel/.claude/get-shit-done/workflows/execute-plan.md
@/Users/luismiguel/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/22-code-quality/22-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Move scanner domain components (15 files) and update imports</name>
  <files>
    maguey-gate-scanner/src/components/scanner/ManualEntry.tsx
    maguey-gate-scanner/src/components/scanner/ScannerInput.tsx
    maguey-gate-scanner/src/components/scanner/BatchQueue.tsx
    maguey-gate-scanner/src/components/scanner/QrScanner.tsx
    maguey-gate-scanner/src/components/scanner/NFCScanner.tsx
    maguey-gate-scanner/src/components/scanner/ScanErrorDisplay.tsx
    maguey-gate-scanner/src/components/scanner/TicketResult.tsx
    maguey-gate-scanner/src/components/scanner/RiskIndicatorBadge.tsx
    maguey-gate-scanner/src/components/scanner/IDVerificationModal.tsx
    maguey-gate-scanner/src/components/scanner/LowBatteryModal.tsx
    maguey-gate-scanner/src/components/scanner/OverrideActivationModal.tsx
    maguey-gate-scanner/src/components/scanner/OverrideReasonModal.tsx
    maguey-gate-scanner/src/components/scanner/PhotoCaptureModal.tsx
    maguey-gate-scanner/src/components/scanner/PhotoComparison.tsx
    maguey-gate-scanner/src/components/scanner/PhotoGallery.tsx
    maguey-gate-scanner/src/components/scanner/index.ts
  </files>
  <action>
    Move 15 top-level scanner-domain components into `components/scanner/`:

    ```
    BatteryIndicator.tsx  — SKIP (already exists in scanner/ as different implementation)
    ManualEntry.tsx       → scanner/ManualEntry.tsx
    ScannerInput.tsx      → scanner/ScannerInput.tsx
    BatchQueue.tsx        → scanner/BatchQueue.tsx
    QrScanner.tsx         → scanner/QrScanner.tsx
    NFCScanner.tsx        → scanner/NFCScanner.tsx
    ScanErrorDisplay.tsx  → scanner/ScanErrorDisplay.tsx
    TicketResult.tsx      → scanner/TicketResult.tsx
    RiskIndicatorBadge.tsx → scanner/RiskIndicatorBadge.tsx
    IDVerificationModal.tsx → scanner/IDVerificationModal.tsx
    LowBatteryModal.tsx   → scanner/LowBatteryModal.tsx
    OverrideActivationModal.tsx → scanner/OverrideActivationModal.tsx
    OverrideReasonModal.tsx → scanner/OverrideReasonModal.tsx
    PhotoCaptureModal.tsx → scanner/PhotoCaptureModal.tsx
    PhotoComparison.tsx   → scanner/PhotoComparison.tsx
    PhotoGallery.tsx      → scanner/PhotoGallery.tsx
    ```

    For each moved file:
    1. `git mv` the file to the new location
    2. Update any internal imports within the moved file that reference other components (e.g., TicketResult.tsx imports PhotoCaptureModal — now a sibling `./PhotoCaptureModal`)
    3. Keep `@/lib/` and `@/components/ui/` imports unchanged

    Update consumer import paths:
    - `src/pages/Scanner.tsx`: Change `@/components/QrScanner` → `@/components/scanner/QrScanner`, `@/components/NFCScanner` → `@/components/scanner/NFCScanner`
    - `src/components/scanner/ScannerSettingsPanel.tsx`: Change `@/components/ManualEntry` → `./ManualEntry`
    - `src/components/scanner/FullScreenScanner.tsx`: Change `@/components/QrScanner` → `./QrScanner`, `@/components/NFCScanner` → `./NFCScanner`, `@/components/ScannerInput` → `./ScannerInput`, `@/components/BatchQueue` → `./BatchQueue`
    - `src/components/scanner/TicketResult.tsx` (after move): Change `@/components/PhotoCaptureModal` → `./PhotoCaptureModal`

    Update `scanner/index.ts` to add re-exports for ALL scanner components (existing 3 + 15 new):
    ```typescript
    // Existing
    export { FullScreenScanner } from "./FullScreenScanner";
    export { ScanResultOverlay } from "./ScanResultOverlay";
    export { ScannerSettingsPanel } from "./ScannerSettingsPanel";
    // Previously top-level (existing in scanner/)
    export { BatteryIndicator } from "./BatteryIndicator";
    export { CheckInCounter } from "./CheckInCounter";
    export { OfflineAcknowledgeModal } from "./OfflineAcknowledgeModal";
    export { OfflineBanner } from "./OfflineBanner";
    export { RejectionOverlay } from "./RejectionOverlay";
    export { ScanHistory } from "./ScanHistory";
    export { SuccessOverlay } from "./SuccessOverlay";
    // Newly moved
    export { ManualEntry } from "./ManualEntry";
    export { ScannerInput } from "./ScannerInput";
    export { BatchQueue } from "./BatchQueue";
    export { QrScanner } from "./QrScanner";
    export { NFCScanner } from "./NFCScanner";
    export { ScanErrorDisplay } from "./ScanErrorDisplay";
    export { TicketResult } from "./TicketResult";
    export { RiskIndicatorBadge } from "./RiskIndicatorBadge";
    export { IDVerificationModal } from "./IDVerificationModal";
    export { LowBatteryModal } from "./LowBatteryModal";
    export { OverrideActivationModal } from "./OverrideActivationModal";
    export { OverrideReasonModal } from "./OverrideReasonModal";
    export { PhotoCaptureModal } from "./PhotoCaptureModal";
    export { PhotoComparison } from "./PhotoComparison";
    export { PhotoGallery } from "./PhotoGallery";
    ```

    NOTE about the top-level BatteryIndicator.tsx: It is a DIFFERENT implementation from scanner/BatteryIndicator.tsx. The top-level one uses battery-monitoring-service and is imported by Navigation.tsx. Move it to `layout/` directory (handled in Task 2) since it's used by the Navigation layout component. Rename it to `BatteryIndicatorNav.tsx` to avoid confusion, or keep it in the `layout/` directory since Navigation.tsx is its only consumer. The scanner/ version stays as-is.

    After all moves, run: `cd maguey-gate-scanner && npx tsc --noEmit 2>&1 | head -30`
  </action>
  <verify>
    `ls maguey-gate-scanner/src/components/scanner/*.tsx | wc -l` shows 25+ files.
    `cd maguey-gate-scanner && npx tsc --noEmit 2>&1 | head -5` shows no scanner-related errors.
  </verify>
  <done>15 scanner-domain files moved to scanner/ directory. All consumer import paths updated. Barrel index.ts updated with all exports. TypeScript build passes for scanner domain.</done>
</task>

<task type="auto">
  <name>Task 2: Move dashboard, vip, layout, shared, settings, events, admin components (32 files) and update all imports</name>
  <files>
    maguey-gate-scanner/src/components/dashboard/ActivityFeed.tsx
    maguey-gate-scanner/src/components/dashboard/DiscrepancyAlerts.tsx
    maguey-gate-scanner/src/components/dashboard/EntryExitFlowVisualization.tsx
    maguey-gate-scanner/src/components/dashboard/FraudAlertsWidget.tsx
    maguey-gate-scanner/src/components/dashboard/FraudAnalysisModal.tsx
    maguey-gate-scanner/src/components/dashboard/NotificationFeed.tsx
    maguey-gate-scanner/src/components/dashboard/QueueDashboard.tsx
    maguey-gate-scanner/src/components/dashboard/QueueAnalytics.tsx
    maguey-gate-scanner/src/components/dashboard/RecentGuestCheckIns.tsx
    maguey-gate-scanner/src/components/dashboard/ShiftStatus.tsx
    maguey-gate-scanner/src/components/dashboard/StaffingRecommendations.tsx
    maguey-gate-scanner/src/components/dashboard/SyncDetailsPanel.tsx
    maguey-gate-scanner/src/components/dashboard/SyncStatusIndicator.tsx
    maguey-gate-scanner/src/components/dashboard/UnifiedCapacityDisplay.tsx
    maguey-gate-scanner/src/components/dashboard/WaitTimeDisplay.tsx
    maguey-gate-scanner/src/components/dashboard/index.ts
    maguey-gate-scanner/src/components/vip/GuestCheckInCard.tsx
    maguey-gate-scanner/src/components/vip/GuestSearchInput.tsx
    maguey-gate-scanner/src/components/vip/GuestSearchResults.tsx
    maguey-gate-scanner/src/components/vip/VipTableGuestResult.tsx
    maguey-gate-scanner/src/components/vip/TierManagement.tsx
    maguey-gate-scanner/src/components/vip/index.ts
    maguey-gate-scanner/src/components/layout/ProtectedRoute.tsx
    maguey-gate-scanner/src/components/layout/Navigation.tsx
    maguey-gate-scanner/src/components/layout/RoleSwitcher.tsx
    maguey-gate-scanner/src/components/layout/index.ts
    maguey-gate-scanner/src/components/shared/ErrorBoundary.tsx
    maguey-gate-scanner/src/components/shared/ScrollToTop.tsx
    maguey-gate-scanner/src/components/shared/index.ts
    maguey-gate-scanner/src/components/settings/ColorPicker.tsx
    maguey-gate-scanner/src/components/settings/FontSelector.tsx
    maguey-gate-scanner/src/components/settings/DeviceInfoCard.tsx
    maguey-gate-scanner/src/components/settings/index.ts
    maguey-gate-scanner/src/components/events/EventBulkImport.tsx
    maguey-gate-scanner/src/components/events/AssetUpload.tsx
    maguey-gate-scanner/src/components/events/index.ts
    maguey-gate-scanner/src/components/admin/UserDetailsModal.tsx
  </files>
  <action>
    Move remaining 32 top-level components into their domain directories:

    **Dashboard domain (12 files) → dashboard/:**
    ```
    ActivityFeed.tsx, DiscrepancyAlerts.tsx, EntryExitFlowVisualization.tsx,
    FraudAlertsWidget.tsx, FraudAnalysisModal.tsx, NotificationFeed.tsx,
    QueueDashboard.tsx, QueueAnalytics.tsx, RecentGuestCheckIns.tsx,
    ShiftStatus.tsx, StaffingRecommendations.tsx, SyncDetailsPanel.tsx,
    SyncStatusIndicator.tsx, UnifiedCapacityDisplay.tsx, WaitTimeDisplay.tsx
    ```

    Update consumer imports:
    - `pages/Dashboard.tsx`: Change `@/components/FraudAlertsWidget` → `@/components/dashboard/FraudAlertsWidget` (same for NotificationFeed, UnifiedCapacityDisplay, DiscrepancyAlerts, EntryExitFlowVisualization)
    - `pages/QueueManagement.tsx`: Change `@/components/QueueDashboard` → `@/components/dashboard/QueueDashboard` (same for QueueAnalytics, StaffingRecommendations)
    - `pages/QueueStatus.tsx`: Change `@/components/WaitTimeDisplay` → `@/components/dashboard/WaitTimeDisplay`
    - `pages/GuestListCheckIn.tsx`: Change `@/components/RecentGuestCheckIns` → `@/components/dashboard/RecentGuestCheckIns`
    - `pages/crew/CrewDeviceCenter.tsx`: Change `@/components/SyncDetailsPanel` → `@/components/dashboard/SyncDetailsPanel`
    - `pages/crew/CrewQueueOps.tsx`: Change `@/components/WaitTimeDisplay` → `@/components/dashboard/WaitTimeDisplay`, `@/components/QueueDashboard` → `@/components/dashboard/QueueDashboard`, `@/components/StaffingRecommendations` → `@/components/dashboard/StaffingRecommendations`
    - `pages/crew/CrewShiftCenter.tsx`: Change `@/components/ShiftStatus` → `@/components/dashboard/ShiftStatus`

    Create `dashboard/index.ts`:
    ```typescript
    // Existing dashboard components
    export { CheckInProgress } from "./CheckInProgress";
    export { MetricCard } from "./MetricCard";
    export { NavigationGrid } from "./NavigationGrid";
    export { QuickStats } from "./QuickStats";
    export { RecentPurchases } from "./RecentPurchases";
    export { RevenueCard } from "./RevenueCard";
    export { RevenueTrend } from "./RevenueTrend";
    export { RevenueVerification } from "./RevenueVerification";
    export { UpcomingEventsCard } from "./UpcomingEventsCard";
    // Newly moved
    export { ActivityFeed } from "./ActivityFeed";
    export { DiscrepancyAlerts } from "./DiscrepancyAlerts";
    export { EntryExitFlowVisualization } from "./EntryExitFlowVisualization";
    export { FraudAlertsWidget } from "./FraudAlertsWidget";
    export { FraudAnalysisModal } from "./FraudAnalysisModal";
    export { NotificationFeed } from "./NotificationFeed";
    export { QueueDashboard } from "./QueueDashboard";
    export { QueueAnalytics } from "./QueueAnalytics";
    export { RecentGuestCheckIns } from "./RecentGuestCheckIns";
    export { ShiftStatus } from "./ShiftStatus";
    export { StaffingRecommendations } from "./StaffingRecommendations";
    export { SyncDetailsPanel } from "./SyncDetailsPanel";
    export { SyncStatusIndicator } from "./SyncStatusIndicator";
    export { UnifiedCapacityDisplay } from "./UnifiedCapacityDisplay";
    export { WaitTimeDisplay } from "./WaitTimeDisplay";
    ```

    **VIP domain (5 files) → vip/:**
    ```
    GuestCheckInCard.tsx, GuestSearchInput.tsx, GuestSearchResults.tsx,
    VipTableGuestResult.tsx, TierManagement.tsx
    ```

    Update consumer imports:
    - `pages/GuestListCheckIn.tsx`: Change `@/components/GuestSearchInput` → `@/components/vip/GuestSearchInput`, `@/components/GuestSearchResults` → `@/components/vip/GuestSearchResults`
    - `components/vip/VIPScanner.tsx`: Change `@/components/VipTableGuestResult` → `./VipTableGuestResult`

    Update `vip/index.ts` to add 5 new exports to existing 5.

    **Layout domain (3 files) → layout/:**
    ```
    ProtectedRoute.tsx, Navigation.tsx, RoleSwitcher.tsx
    ```
    Also move the top-level BatteryIndicator.tsx → `layout/BatteryIndicator.tsx` (it's used only by Navigation.tsx).

    Update consumer imports:
    - `App.tsx`: Change `./components/ProtectedRoute` → `./components/layout/ProtectedRoute`, `./components/ErrorBoundary` → `./components/shared/ErrorBoundary`, `./components/ScrollToTop` → `./components/shared/ScrollToTop`
    - `pages/Dashboard.tsx`: Change `@/components/Navigation` → `@/components/layout/Navigation`
    - `pages/NotificationAnalytics.tsx`: Change `@/components/Navigation` → `@/components/layout/Navigation`
    - `pages/CustomerManagement.tsx`: Change `@/components/Navigation` → `@/components/layout/Navigation`
    - `components/layout/OwnerPortalLayout.tsx`: Change `@/components/RoleSwitcher` → `./RoleSwitcher`
    - `components/layout/EmployeePortalLayout.tsx`: Change `@/components/RoleSwitcher` → `./RoleSwitcher`
    - `components/Navigation.tsx` (after move to layout/): Change `@/components/BatteryIndicator` → `./BatteryIndicator`

    Create `layout/index.ts`:
    ```typescript
    export { OwnerPortalLayout } from "./OwnerPortalLayout";
    export { EmployeePortalLayout } from "./EmployeePortalLayout";
    export { ProtectedRoute } from "./ProtectedRoute";
    export { Navigation } from "./Navigation";
    export { default as RoleSwitcher } from "./RoleSwitcher";
    export { BatteryIndicator } from "./BatteryIndicator";
    ```

    **Shared (2 files) → shared/:**
    ```
    ErrorBoundary.tsx, ScrollToTop.tsx
    ```
    Create `shared/index.ts`.

    **Settings (3 files) → settings/:**
    ```
    ColorPicker.tsx, FontSelector.tsx, DeviceInfoCard.tsx
    ```
    Update consumer imports:
    - `pages/Branding.tsx`: Change `@/components/ColorPicker` → `@/components/settings/ColorPicker`, etc.
    - `pages/crew/CrewSettings.tsx`: Change `@/components/DeviceInfoCard` → `@/components/settings/DeviceInfoCard`
    - `pages/crew/CrewDeviceCenter.tsx`: Change `@/components/DeviceInfoCard` → `@/components/settings/DeviceInfoCard`
    Create `settings/index.ts`.

    **Events (2 files) → events/:**
    ```
    EventBulkImport.tsx, AssetUpload.tsx
    ```
    Update consumer imports:
    - `pages/EventManagement.tsx`: Change `@/components/EventBulkImport` → `@/components/events/EventBulkImport`
    - `pages/Branding.tsx`: Change `@/components/AssetUpload` → `@/components/events/AssetUpload`
    Create `events/index.ts`.

    **Admin (1 file) → admin/ (already exists):**
    ```
    UserDetailsModal.tsx
    ```
    Update consumer import:
    - `pages/TeamManagement.tsx`: Change `@/components/UserDetailsModal` → `@/components/admin/UserDetailsModal`

    After ALL moves and import updates:
    1. Verify no .tsx files remain at top level: `ls maguey-gate-scanner/src/components/*.tsx` should return nothing (or just the top-level BatteryIndicator if it's a different version to keep)
    2. Run: `cd maguey-gate-scanner && npx tsc --noEmit`
    3. Verify build: `cd maguey-gate-scanner && npx vite build 2>&1 | tail -10`

    IMPORTANT: Use `git mv` for all file moves to preserve git history. If a file already exists at the destination (like BatteryIndicator.tsx in scanner/), skip it.
  </action>
  <verify>
    `ls maguey-gate-scanner/src/components/*.tsx 2>/dev/null | wc -l` returns 0 (no top-level .tsx files).
    `cd maguey-gate-scanner && npx tsc --noEmit` exits 0.
    `ls maguey-gate-scanner/src/components/*/index.ts | wc -l` shows 7+ barrel files.
  </verify>
  <done>All 47 top-level component files organized into domain subdirectories. All import paths updated. Barrel index.ts files created. Zero top-level .tsx files remain. TypeScript build passes.</done>
</task>

</tasks>

<verification>
1. `ls maguey-gate-scanner/src/components/*.tsx 2>/dev/null | wc -l` — 0 files at top level
2. `cd maguey-gate-scanner && npx tsc --noEmit` — zero errors
3. `cd maguey-gate-scanner && npx vite build 2>&1 | tail -5` — build succeeds
4. `ls maguey-gate-scanner/src/components/*/index.ts | wc -l` — 7+ barrel files
5. Domain directories: scanner/ (25+), dashboard/ (24+), vip/ (10+), layout/ (5+), shared/ (2+), settings/ (3+), events/ (2+), admin/ (10+), ui/ (52+)
</verification>

<success_criteria>
- Zero .tsx files at top-level components/ directory
- All 47 files moved to appropriate domain subdirectories
- All consumer import paths updated
- Barrel index.ts files in each domain directory
- TypeScript build succeeds
- Vite build succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/22-code-quality/22-03-SUMMARY.md`
</output>
